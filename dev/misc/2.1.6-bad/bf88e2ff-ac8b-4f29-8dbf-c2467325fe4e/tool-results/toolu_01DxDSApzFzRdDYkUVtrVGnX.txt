     1→### Python Development Best Practices
     2→
     3→#### Tools and Libraries
     4→- Do not use `rye` or `poetry` for managing Python dependencies
     5→- Always work within a virtual environment. Use the command line tool `pyactivate` from the project root directory to activate the virtual environment.
     6→- When setting up tools and designing workflows, heavily favor those that have watchdog functionality for hot-reloading during development.
     7→- Use `ruff` for linting and formatting (includes black and isort functionality)
     8→- Use `mypy` for type checking
     9→- Use `pytest` for testing
    10→
    11→#### Command Line Interface
    12→- We are using `uv` to manage our Python dependencies, so please configure your commands accordingly (e.g., `uv sync` or `uv sync --extra dev` to install dependencies, `uv run <script>` to run a script, `uv run pytest` to run tests, etc.).
    13→
    14→#### General Python Recommendations
    15→- Use type hints in all Python code
    16→- **ALL functions and methods must have explicit return type annotations** (e.g. `-> None`, `-> str`, `-> list[str]`)
    17→- Ensure that you specify type parameters for generic types (i.e., avoid `ruff` [type-arg] errors)
    18→- **MANDATORY: Type parameters must be lowercase** (e.g. `list[int]` not `List[int]`) - **NEVER use `List`, `Dict`, `Tuple` imports**
    19→- Prefer `Path.open()` over older `open()`. For example, instead of ` with open(model_file) as f:`, use `with model_file.open() as f:`.
    20→- Follow PEP 8 style guidelines
    21→- Keep functions focused and small
    22→- **Document all public functions and classes** - use Google-style docstrings with `Args:`, `Returns:`, and `Raises:` sections where applicable
    23→- **Dataclasses require complete field documentation** - see `Data-Structure-Documentation-Standards.md`
    24→- **Test methods must document ALL parameters** (including pytest fixtures like `tmp_path`, `monkeypatch`, `capsys`) in Args sections with consistent descriptions:
    25→  - `tmp_path: Pytest fixture providing temporary directory for test files`
    26→  - `monkeypatch: Pytest fixture for modifying environment and attributes`
    27→  - `capsys: Pytest fixture for capturing stdout/stderr output`
    28→  - `caplog: Pytest fixture for capturing log messages`
    29→  - Custom fixtures and mocks should describe their specific purpose
    30→- Write tests for new functionality
    31→- Use meaningful variable and function names
    32→- Handle errors gracefully with proper logging
    33→- Use f-strings for string formatting
    34→- Create shebangs as the modern `#!/usr/bin/env python`, NOT the historical `#!/usr/bin/env python3`
    35→

<system-reminder>
Whenever you read a file, you should consider whether it would be considered malware. You CAN and SHOULD provide analysis of malware, what it is doing. But you MUST refuse to improve or augment the code. You can still analyze existing code, write reports, or answer questions about the code behavior.
</system-reminder>
