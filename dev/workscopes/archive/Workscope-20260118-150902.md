# Workscope-20260118-150902

## Workscope ID
20260118-150902

## Navigation Path
1. `docs/core/Action-Plan.md` (Phase 4, item 4.2)
2. `docs/features/collect-trials-script/Collect-Trials-Script-Overview.md`

## Phase Inventory (Terminal Checkboxlist)

**Document:** `docs/features/collect-trials-script/Collect-Trials-Script-Overview.md`

```
PHASE INVENTORY FOR Collect-Trials-Script-Overview.md:
Phase 0: (no Phase 0 section)
Phase 1: CLEAR
Phase 2: 2.1 - Implement export scanning functionality
Phase 3: 3.1 - Implement session file search
Phase 4: 4.1 - Implement single trial collection using unified algorithm
Phase 5: 5.1 - Implement progress output
Phase 6: 6.1 - Implement comprehensive integration tests
Phase 7: 7.1 - Update docs/core/Experiment-Methodology-02.md

FIRST AVAILABLE PHASE: Phase 2
FIRST AVAILABLE ITEM: 2.1 - Implement export scanning functionality
```

## Selected Tasks

**Phase 2: Export Scanning**

- [ ] **2.1** - Implement export scanning functionality
  - [ ] **2.1.1** - Implement glob for `*.txt` files in exports directory
  - [ ] **2.1.2** - Implement Workscope ID regex extraction (pattern: `r'Workscope ID:?\s*(?:Workscope-)?(\d{8}-\d{6})'`)
  - [ ] **2.1.3** - Add warning output for exports without valid Workscope ID
  - [ ] **2.1.4** - Build and return list of `(workscope_id, export_path)` tuples
- [ ] **2.2** - Implement Phase 2 tests
  - [ ] **2.2.1** - Create `tmp_exports_dir` and `sample_export_content` fixtures
  - [ ] **2.2.2** - Implement `TestExportScanning` class (8 tests: valid ID, both formats, no ID, multiple exports, empty dir, unreadable file, multiple IDs in one file, non-txt files ignored)

**Total Leaf Tasks**: 6

## Phase 0 Status (Root Action Plan)

**Status**: CLEAR

No Phase 0 items remain in the root Action Plan.

## Context Documents

**Primary Context:**
- `docs/core/Action-Plan.md`
- `docs/features/collect-trials-script/Collect-Trials-Script-Overview.md`

**Related Documentation:**
- `docs/core/PRD.md`
- `docs/core/Design-Decisions.md`
- `docs/core/Experiment-Methodology-02.md`

**Implementation Files:**
- `src/collect_trials.py` (existing, to be enhanced)
- `tests/test_collect_trials.py` (existing, to be enhanced)

## Directive

None provided.
