# Workscope-20260129-183657

**Workscope ID:** 20260129-183657
**Created:** 2026-01-29
**Status:** Active

---

## Navigation Path

Action-Plan.md â†’ upgrade-trial-data-schema-1-3.md

---

## Phase Inventory (Terminal Checkboxlist)

**Document:** `docs/tickets/open/upgrade-trial-data-schema-1-3.md`

```
Phase 1: CLEAR
Phase 2: CLEAR
Phase 3: CLEAR
Phase 4: CLEAR
Phase 5: CLEAR
Phase 6: CLEAR
Phase 7: 7.1 Run the updated script on barebones-2121/20260128-150640 and verify results
```

**First Available Phase:** Phase 7
**First Available Item:** 7.1

---

## Selected Tasks

All tasks listed below were in state `[ ]` (unaddressed) before assignment:

**Phase 7: Verification**
- **7.1** - Run the updated script on `dev/misc/barebones-2121/20260128-150640` (FAILURE, `has_tool_results: true`) and verify: `compaction_loss` > 0 on the reset entry, `persisted_count` = 6 (5 reads + 1 non-read), `persisted_reads` contains 5 entries matching the Read tool_use_ids from Step 1.4, `persisted_non_reads` contains 1 entry (the Bash `date` command tool_use_id)
- **7.2** - Run the updated script on `dev/misc/repro-attempts-04-2120/20260127-095002` (SUCCESS, `has_tool_results: false`) and verify: `compaction_loss` is negative on the reset entry (indicating post-reset context expansion beyond pre-reset `cache_read`, typical when no content was persisted), `persistence_mapping` shows `persisted_count: 0` and all 9 file reads in `non_persisted_reads`
- **7.3** - Run the updated script on at least one trial from `dev/misc/barebones-2120-2/` to verify consistency across collections

---

## Phase 0 Status (Root Action Plan)

**Status:** BLOCKING
**Item:** 0.4 Update trial_data.json to Schema 1.3 (see docs/tickets/open/upgrade-trial-data-schema-1-3.md)

This workscope resolves the blocking Phase 0 item by completing the final verification phase of the Schema 1.3 upgrade ticket.

---

## Context Documents

**Primary Ticket:**
- `docs/tickets/open/upgrade-trial-data-schema-1-3.md` - Schema 1.3 upgrade specification and implementation plan

**Implementation Files:**
- `dev/karpathy/extract_trial_data.py` - Trial data extraction script (modified in Phases 1-6)
- `.claude/commands/update-trial-data.md` - Karpathy command specification

**Verification Data:**
- `dev/misc/barebones-2121/20260128-150640/trial_data.json` - FAILURE trial with persistence
- `dev/misc/repro-attempts-04-2120/20260127-095002/trial_data.json` - SUCCESS trial without persistence
- `dev/misc/barebones-2120-2/` - Collection for consistency verification

**Documentation:**
- `docs/experiments/guides/Trial-Analysis-Guide.md` - Schema documentation (updated in Phase 6)
- `docs/experiments/results/Build-Scan-Discrepancy-Analysis.md` - Analysis that motivated Schema 1.3

**Root Planning:**
- `docs/core/Action-Plan.md` - Project action plan (Phase 0 item 0.4)

---

## Workscope Directive

None provided. Selected all available items from Phase 7 (verification phase).

---

## Summary

This workscope completes the verification phase (Phase 7) of the Schema 1.3 upgrade ticket. Phases 1-6 have already implemented the enhanced usage data extraction, reset enrichment, persistence mapping, derived metrics, schema updates, and documentation. This workscope validates the implementation by running the updated extraction script on three representative trials:

1. A FAILURE trial with tool result persistence (barebones-2121)
2. A SUCCESS trial without persistence (repro-attempts-04-2120)
3. A trial from the barebones-2120-2 collection for consistency

Upon successful verification, this ticket (and the blocking Phase 0 item 0.4) can be marked complete.
